#!/usr/bin/env node
var Bird = require('bird');

var oauth = {
  "consumer_key": process.env.TW_CONSUMER_KEY,
  "consumer_secret": process.env.TW_CONSUMER_SECRET,
  "token": process.env.TW_TOKEN,
  "token_secret": process.env.TW_TOKEN_SECRET
};

status = process.argv.map(function(val, i) {
  if (i != 0 && i != 1) {
    return val
  }
}).join(' ');

if (status.length < 140) {
  Bird.tweets.update({
    oauth: oauth,
    status: status
  }, function(err, body, r){
    if (err) {
    } else {
      console.log("posted: " + status)
    }
  })
} else {
  console.log("Status must be less than 140 characters")
}

